/*@license For license information please refer to blossom-customer-notifications.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[7292],{55048:function(e,t,n){n.r(t),n.d(t,{CustomerNotificationsWrapper:function(){return F},default:function(){return z}});var i=n(96540),l=n(49811),a=n(55461),o=n(31370),c=n(10159),r=n(95196),s=n(16484),d=n(94495),u=n(68963),m=n(82960),E=n(90745),v=n(15144),f=n(94220);const p={H:"LODGING",P:"PACKAGES",F:"FLIGHT",C:"CAR",CR:"CRUISES",A:"ACTIVITIES",U:"UNCLASSIFIED",R:"RAILS",GT:"GROUNDTRANSFERS"},b=e=>p[e]||"UNCLASSIFIED",g={0:"SYSTEM",10:"ENTRY",20:"SEARCH_RESULTS",30:"DETAILS",40:"CHECKOUT",50:"CHECKOUT_ERROR",60:"PAYMENT_ERROR",70:"CONFIRMATION",80:"POST_BOOKING",90:"USER",500:"FEATURES"},h=e=>{const[t,n,i]=e.pageId.split(",").map((e=>e.trim()));return{pageId:t,lineOfBusiness:n,funnelLocation:i}},x=e=>g[e]||"ENTRY",k=(e,t)=>{e&&e.forEach((e=>{if("NotificationAnalytics"===e.__typename){const n=e.description;t(e.referrerId,n)}}))},N=(0,o.inject)("chatbot")((0,o.observer)((e=>{var t;const{link:n,analyticsCallback:l,chatbot:a,closeDialog:o}=e,[c,r]=i.useState(!1);i.useEffect((()=>{(async()=>{r(void 0!==a&&await a.isVirtualAgentInitialized(window))})()}),[]);const u="openChatbot"===(null==n?void 0:n.id)&&c,m=u?"#":null===(t=null==n?void 0:n.uri)||void 0===t?void 0:t.value;return i.createElement(v.j,{minWidth:"full_width"},i.createElement(s.i,{border:!0},i.createElement(f.b,{padding:"three"},i.createElement(s.m,null,i.createElement(v.i,{justifyContent:"space-between",alignItems:"center",className:"cardContentContainer"},i.createElement(v.j,null,i.createElement("div",null,i.createElement(E.c,{weight:"medium"},null==n?void 0:n.text))),i.createElement(v.j,null,i.createElement(d.a,{name:"chevron_right"}))))),i.createElement(s.q,null,u?i.createElement("a",{onClick:e=>{e.preventDefault(),l&&k(null==n?void 0:n.actions,l),o(),u&&a&&a.openChatWidget()},href:m},null==n?void 0:n.text):i.createElement("a",{onClick:e=>{l&&k(null==n?void 0:n.actions,l)},href:m},null==n?void 0:n.text))))})));var C=n(66168);const w=e=>{var t,n;const[l,a,o]=(0,c.useDialog)("covid-19-dialog"),s=i.createRef(),d={context:e.inputs.context,notificationLocation:"POPUP",lineOfBusiness:b(e.inputs.lineOfBusiness),funnelLocation:x(e.inputs.funnelLocation)},{data:p,error:g,loading:h}=(0,r.I)(C.Ww,{variables:d});if(g||h||!p||!(null==p?void 0:p.notification)||!(null===(t=null==p?void 0:p.notification)||void 0===t?void 0:t.inlineNotification))return null;const{title:k,links:w}=(null===(n=null==p?void 0:p.notification)||void 0===n?void 0:n.inlineNotification)||{},O=null==k?void 0:k.items[0].text;return i.createElement(u.h,{isVisible:l},i.createElement(o,null,i.createElement(u.e,{isVisible:l,triggerRef:s,type:"full"},i.createElement(m.b,{key:"EGDSToolbar",navigationContent:{onClick:a.closeDialog}}),i.createElement(u.f,{key:"covid-credit-container"},i.createElement(f.b,{padding:{blockstart:"six"}},i.createElement("div",{key:"cta-dialog-heading"},i.createElement(E.E,{tag:"h2",size:3},O))),i.createElement(f.b,{padding:{block:"six"}},i.createElement(v.i,{space:"two",wrap:"wrap"},i.createElement(i.Fragment,null,null==w?void 0:w.map(((t,n)=>i.createElement(N,{key:`customer-notification-action-link-${n}`,analyticsCallback:e.analyticsCallback,link:t,closeDialog:a.closeDialog}))))))))))};var O=n(46198);const R=e=>{var t;const[,n]=(0,c.useDialog)("covid-19-dialog"),l={context:e.inputs.context,notificationLocation:e.inputs.location,lineOfBusiness:b(e.inputs.lineOfBusiness),funnelLocation:x(e.inputs.funnelLocation)},{analyticsCallback:a,className:o=""}=e,{data:u,error:m,loading:p}=(0,r.I)(C.Ww,{variables:l});if(m||p||!u||!(null==u?void 0:u.notification)||!(null==u?void 0:u.notification.inlineNotification)||!u.notification.inlineNotification.body)return null;const{title:g,body:h,links:N}=u.notification.inlineNotification,R=null==g?void 0:g.items[0].text,_=null===(t=null==h?void 0:h[0])||void 0===t?void 0:t.items[0].text,y=null==N?void 0:N.map((({text:e,uri:t,icon:n,actions:i})=>({text:e,href:null==t?void 0:t.value,icon:n,actions:i}))),T=null==y?void 0:y.shift();return i.createElement("div",{"data-testid":"customer-notification-with-dialog","data-stid":"customer-notifications",className:o},i.createElement(w,{inputs:{context:e.inputs.context,lineOfBusiness:e.inputs.lineOfBusiness,funnelLocation:e.inputs.funnelLocation},analyticsCallback:e.analyticsCallback}),i.createElement(s.i,{border:!0,padded:!0,className:"travel-advisory-with-chatbot-link"},i.createElement(v.i,{alignItems:"center",space:"three"},i.createElement(v.j,null,i.createElement(d.a,{spotlight:{theme:"info",background:!0},name:"help",size:d.E.MEDIUM})),i.createElement(v.j,null,i.createElement("div",null,i.createElement(E.E,{tag:"h4"},R),i.createElement(E.a,null,_),i.createElement(f.b,{padding:{blockstart:"two"}},i.createElement(v.i,{space:"six"},i.createElement(O.E,{onClick:e=>{n.openDialog(),k(T.actions,a)}},i.createElement("a",null,null==T?void 0:T.text)))))))))},_=(0,o.inject)("analytics","context","page")((e=>{const{analytics:t,context:n,location:l,page:o,className:c}=e;if(!o||!o.pageId||!n)return null;const r=h(o);return i.createElement(f.b,{margin:{blockend:"three"}},i.createElement("div",null,i.createElement(R,{inputs:{context:(0,a.getBexApiContext)(n),lineOfBusiness:r.lineOfBusiness,funnelLocation:r.funnelLocation,location:l},analyticsCallback:(e,n)=>{null==t||t.trackEvent(e,n||"RFRR Action Event",t.omnitureData,null,!0)},className:c})))}));var y=n(12098),T=n(67226);const I={pencil:"mode_edit",coin:"monetization_on",chat:"chat"},A=(0,o.inject)("chatbot")((0,o.observer)((e=>{var t,n,l;const{link:a,analyticsCallback:o,chatbot:c,maxWidth:r,minWidth:u,index:m,version:p,body:b}=e,g="openChatbot",h=null==b?void 0:b.items[0],x=null==b?void 0:b.items[1],N=null==b?void 0:b.items[2],C={id:(null==a?void 0:a.id)||(null==N?void 0:N.id),url:(null===(t=null==a?void 0:a.uri)||void 0===t?void 0:t.value)||(null===(n=null==N?void 0:N.uri)||void 0===n?void 0:n.value),actions:(null==a?void 0:a.actions)||(null==N?void 0:N.actions),text:(null==a?void 0:a.text)||(null==h?void 0:h.text),subText:(null==x?void 0:x.text)||"",iconName:(null===(l=null==N?void 0:N.icon)||void 0===l?void 0:l.id)||""},w=C.id===g||"cancelChangeTrip"===C.id||"covidManageYourTrip"===C.id,O="covidRedeemCredits"===C.id,R=["https://forever.travel-assets.com/flex/flexmanager/images/2020/07/09/calendar_busy.svg","https://forever.travel-assets.com/flex/flexmanager/images/2020/07/09/voucher.svg","https://forever.travel-assets.com/flex/flexmanager/images/2020/07/09/approved.svg","https://forever.travel-assets.com/flex/flexmanager/images/2020/11/04/coupons_cut.svg"],_={intent:y.s9.REFUND_STATUS},A={intent:y.s9.VIEW_BOOKING},S={launchPoint:"ReasonsToBelieve",pageName:"StoreFront"},L=async e=>{var t,n;if(e.preventDefault(),o&&k(C.actions,o),c&&w){if(await c.isVirtualAgentInitialized(window)){const e=g===C.id?_:A;return void(await c.startConversation(S,e)||(window.location.href=null!==(t=C.url)&&void 0!==t?t:"#"))}}window.location.href=null!==(n=C.url)&&void 0!==n?n:"#"},D=i.createElement(s.i,{padded:!0},i.createElement(v.i,{alignItems:"center",space:"six"},i.createElement(v.j,{minWidth:48,shrink:0},i.createElement("div",null,i.createElement(T.a,{ratio:T.E.R1_1},i.createElement(T.b,{src:R[m],alt:C.text})))),i.createElement(v.j,{grow:1},i.createElement(E.E,{tag:"h3",size:5},C.text))),i.createElement(s.q,null,i.createElement("button",{type:"button",onClick:L},C.text))),B=i.createElement(s.i,{border:!0},i.createElement(f.b,{padding:{block:"four",inline:"three"}},i.createElement("div",null,i.createElement(v.i,{alignItems:"center",justifyContent:"space-between"},i.createElement(v.j,null,i.createElement(E.E,{tag:"h3",size:5},C.text))),i.createElement(f.b,{padding:{blockstart:"one"}},i.createElement("div",null,i.createElement(E.c,{size:200},C.subText))))),i.createElement(s.q,null,i.createElement("button",{type:"button",onClick:L},C.text))),j=i.createElement(s.i,{border:!0,padded:!0},i.createElement(f.b,{padding:{blockend:"two",blockstart:"two"}},i.createElement(v.i,null,i.createElement(v.j,{minWidth:65,grow:1},i.createElement("div",null,i.createElement(T.a,{ratio:T.E.R1_1},i.createElement(T.b,{src:R[3],alt:C.text})))),i.createElement(v.j,{grow:1},i.createElement(f.b,{padding:{inlinestart:"two"}},i.createElement("div",null,i.createElement(E.E,{tag:"h3",size:5},C.text),i.createElement(f.b,{padding:{blockstart:"one"}},i.createElement("div",null,i.createElement(E.c,{size:200},C.subText)))))))),i.createElement(s.q,null,i.createElement("button",{type:"button",onClick:L},C.text))),U=i.createElement(s.i,{border:!0,padded:!0},i.createElement(f.b,{padding:{blockend:"two",blockstart:"two"}},i.createElement(v.i,{alignItems:"center"},i.createElement(v.j,{minWidth:48,shrink:0},i.createElement("div",null,i.createElement(T.a,{ratio:T.E.R1_1},i.createElement(T.b,{src:{calendar_busy:"https://forever.travel-assets.com/flex/flexmanager/images/2020/07/09/calendar_busy.svg",coupons_cut:"https://forever.travel-assets.com/flex/flexmanager/images/2020/11/04/coupons_cut.svg",suitcase:"https://forever.travel-assets.com/flex/flexmanager/images/2020/11/20/suitcase.svg",quotes:"https://forever.travel-assets.com/flex/flexmanager/images/2022/07/01/quote.svg"}[null==C?void 0:C.iconName],alt:"",role:"presentation"})))),i.createElement(v.j,{shrink:1},i.createElement(f.b,{padding:{inlinestart:"three"}},i.createElement("div",null,i.createElement(E.E,{tag:"h3",size:5},C.text),i.createElement(f.b,{padding:{blockstart:"one"}},i.createElement("div",null,i.createElement(E.c,{size:300},C.subText)))))),i.createElement(s.q,null,i.createElement("a",{href:C.url,target:"_blank",rel:"noopener noreferrer",onClick:()=>{o&&k(C.actions,o)}},C.text))))),F=i.createElement(s.i,{border:!0,padded:!0},i.createElement(f.b,{padding:{blockend:"one",blockstart:"one"}},i.createElement(v.i,null,i.createElement(v.j,{shrink:1,minWidth:"full_width"},i.createElement("div",null,i.createElement(E.E,{tag:"h3",size:5},C.text),i.createElement(f.b,{padding:{blockstart:"two"}},i.createElement("div",null,i.createElement(E.c,{size:200},C.subText))))),i.createElement(v.j,{minWidth:16,maxWidth:16,shrink:0,alignSelf:"start"},i.createElement(d.a,{name:I[null==C?void 0:C.iconName],size:d.E.SMALL})))),i.createElement(s.q,null,i.createElement("button",{onClick:L},C.text)));return i.createElement(v.j,{grow:1,maxWidth:r,minWidth:u},p===W.ONE&&D,p===W.TWO&&O&&j,p===W.TWO&&B,p===W.THREE&&U,p===W.FOUR&&F)})));var S=n(68174);const L=(0,o.observer)((e=>{var t;const n={context:e.inputs.context,notificationLocation:e.inputs.location,lineOfBusiness:b(e.inputs.lineOfBusiness),funnelLocation:x(e.inputs.funnelLocation)},{className:l=""}=e,{data:a,error:o,loading:c}=(0,r.I)(C.Ww,{variables:n});if(o||c||!a||!(null==a?void 0:a.notification)||!a.notification.inlineNotification.title)return null;const{title:s,links:d,body:u}=a.notification.inlineNotification,m=null==s?void 0:s.items[0].text,p=(null===(t=null==s?void 0:s.items[1])||void 0===t?void 0:t.text)||"",g=(t,n,l)=>i.createElement(f.b,{padding:{blockstart:"six"}},i.createElement(v.i,{space:"three",direction:t,justifyContent:"space-between"},e.version===W.ONE?null==d?void 0:d.map(((t,a)=>i.createElement(A,{key:`rtb-card-${a}`,analyticsCallback:e.analyticsCallback,link:t,index:a,minWidth:n,maxWidth:l,version:e.version}))):null==u?void 0:u.map(((t,a)=>i.createElement(A,{key:`rtb-card-${a}`,analyticsCallback:e.analyticsCallback,body:t,index:a,minWidth:n,maxWidth:l,version:e.version})))));return i.createElement("div",{className:l,"data-testid":"reasons-to-believe"},i.createElement("section",null,i.createElement("div",null,i.createElement(E.E,{tag:"h2",size:3},m),e.hasSubtitle&&i.createElement(E.b,null,p),i.createElement(S.LM,null,i.createElement(S.NP,null,g("column","full_width","full_width")),i.createElement(S.rw,null,g("row","third_width","third_width"))))))}));var W;!function(e){e.ONE="one",e.TWO="two",e.THREE="three",e.FOUR="four"}(W||(W={}));const D=(0,o.inject)("analytics","context","page")((e=>{const{analytics:t,context:n,location:l,page:o,className:c="",version:r=W.FOUR,hasSubtitle:s=!1}=e;if(!o||!o.pageId||!n)return null;const d=h(o);return i.createElement(L,{inputs:{context:(0,a.getBexApiContext)(n),lineOfBusiness:d.lineOfBusiness,funnelLocation:d.funnelLocation,location:l},analyticsCallback:(e,n)=>{null==t||t.trackEvent(e,n||"RFRR Action Event",t.omnitureData,null,!0)},className:c,version:r,hasSubtitle:s})})),B=e=>{const{reasonsToBelieveVersion:t=W.FOUR}=e;return i.createElement(i.Fragment,null,t===W.ONE&&i.createElement(f.b,{padding:{inline:"six"}},i.createElement(_,{location:"IN_PAGE",className:"customerNotificationSquare customerNotificationWithDialog"})),t===W.TWO&&i.createElement(D,{location:"IN_PAGE",className:"reasons-to-believe",version:W.TWO}),t===W.THREE&&i.createElement(D,{location:"IN_PAGE",className:"reasons-to-believe",version:W.THREE}),t===W.FOUR&&i.createElement(D,{location:"IN_PAGE",className:"reasons-to-believe",version:W.FOUR}))};var j=n(48826),U=n(22786);const F=(0,o.observer)((e=>{var t,n;const{templateComponent:a}=e;if(!a)return null;const{metadata:{id:o},config:{location:c,className:r,reasonsToBelieve:s,reasonsToBelieveVersion:d,title:u}}=a,[m]=(0,j.A9)();if(!c)return null;const v=u&&(null===(n=null===(t=null==m?void 0:m.customerNotificationControlState)||void 0===t?void 0:t[c])||void 0===n?void 0:n.state)===U.vF.CustomerNotificationInitialized&&i.createElement(f.b,{padding:{blockend:"three"}},i.createElement(E.E,{tag:"h2",size:3,"data-testid":"customer-notifications-wrapper-title"},u)),p=i.createElement("div",{id:o,className:"ReasonsToBelieveWrapper","data-testid":"reasons-to-believe-wrapper"},v,i.createElement(B,{reasonsToBelieveVersion:d}));return s&&"IN_PAGE"===c?p:i.createElement("div",{id:o,className:"CustomerNotificationsWrapper","data-testid":"customer-notifications-wrapper"},v,i.createElement(l.X,{location:c,className:r}))}));var z=F}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/lotus-home-ui/blossom-customer-notifications.ffb83882a8288db571a9.js.map